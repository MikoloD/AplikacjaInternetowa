@model List<App.Models.IssueModel>
@{
    ViewData["Title"] = "Home Page";
}

<div id="map" style="width: 100%;height: calc(100vh - 55px);position: relative;overflow: hidden;"></div>
<script>

    var lat = [];
    var lon = [];
    var desc = [];
    @foreach (var item in Model)
    {
        @:lat.push("@item.Latitude");
        @:lon.push("@item.Longitude");
        @:desc.push("@item.Description");
    }

    var map = L.map('map').setView([49.821944, 19.044444], 11);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    for (var i = 0; i < lat.length; i++) {
            L.marker([lat[i], lon[i]]).addTo(map)
                .bindPopup(desc[i])
                .openPopup();
    }
</script>
